<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ | Ø¨ÙŠØªÙƒÙˆÙŠÙ† ÙƒØ§Ø´</title>
<style>
body {
  background: #111;
  color: white;
  font-family: sans-serif;
  text-align: center;
  padding: 40px;
}

.box {
  background: #222;
  padding: 25px;
  border-radius: 12px;
  max-width: 400px;
  margin: auto;
}

input {
  width: 90%;
  padding: 12px;
  margin: 10px 0;
  border-radius: 8px;
  border: none;
}

button {
  width: 95%;
  padding: 12px;
  margin-top: 10px;
  background: gold;
  border: none;
  border-radius: 8px;
  font-size: 18px;
  cursor: pointer;
}
</style>
</head>

<body>

<h2>ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>

<div class="box">
  <input id="email" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
  <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">

  <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
  <button onclick="signup()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
</div>

<script src="supabase.js"></script>

<script>
// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
async function login() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  let { data, error } = await supabase.auth.signInWithPassword({ email, password });

  if (error) {
    alert("Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
  } else {
    window.location.href = "home.html"; // Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„
  }
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
async function signup() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  let { data, error } = await supabase.auth.signUp({ email, password });

  if (error) {
    alert("Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨");
  } else {
    alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­");
    window.location.href = "home.html";
  }
}
</script>

</body>
</html>
